\section{Installation script setup.py}
The 'setup.py' file in the main directory of the project is the installation script for strongMan. Additionally to the setup commands, the script also provides a developer command to migrate the database automatically.

\begin{lstlisting}[style=BashInputStyle]
	 ./setup.py <command> [options]
\end{lstlisting}

\begin{itemize}
	\item -v | --verbose
	\begin{itemize}
	    \item Sets the output of setup.py to verbose.
	\end{itemize}
\end{itemize}

\subsubsection{install}
\begin{lstlisting}[style=BashInputStyle]
	 ./setup.py install [-p %python-interpreter%]
\end{lstlisting}
Makes strongMan ready to run. Sets up a virtualenv, install the requirements, migrates the database and copies the static files to the static-files folder.
\begin{itemize}
	\item -p | --python %python-interpreter%
	\begin{itemize}
	    \item Select a specific python interpreter to run strongMan
	    \item python3 is used as default value for %python-interpreter%
	\end{itemize}
\end{itemize}

\subsubsection{uninstall}
\begin{lstlisting}[style=BashInputStyle]
	 ./setup.py uninstall
\end{lstlisting}
Undos the installation. Puts the application to the same status as before the installation. Removes the virtualenv and deletes all static files.

\subsubsection{add-service}
\begin{lstlisting}[style=BashInputStyle]
	 sudo ./setup.py add-service
\end{lstlisting}
Adds strongMan as a systemd service. The service will be enable and started. Additionaly to the service, the script creates a desktop icon in the launcher which opens a webbrowser with the url http://localhost:1515.\\

You need root permissions to make changes in systemd.

\subsubsection{remove-service}
\begin{lstlisting}[style=BashInputStyle]
	 sudo ./setup.py remove-service
\end{lstlisting}
Removes the systemd service and the launcher icon.

You need root permissions to make changes in systemd.

\subsubsection{migrate}
\begin{lstlisting}[style=BashInputStyle]
	 ./setup.py migrate [-dm]
\end{lstlisting}
Migrates the database if changes are available. Have a look on Django Migrations\footnote{\url{https://github.com/strongswan/strongswan/tree/master/src/libcharon/plugins/vici}}.
\begin{itemize}
	\item -dm | --delete-migrations
	\begin{itemize}
	    \item Deletes all old migrations scripts and the sqlite database. All data are lost!
	\end{itemize}
\end{itemize}